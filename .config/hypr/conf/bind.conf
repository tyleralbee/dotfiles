# Variables - Sections - Binds
# https://wiki.hypr.land/0.49.0/Configuring/Variables/#binds

$mainMod = SUPER
$hypr = $HOME/.config/hypr
$scripts = $hypr/scripts

bind = $mainMod, SPACE, togglefloating

## Primary Applications: a s d f z x c v
bind = $mainMod, A, exec, ZED_PID=$(pgrep -o zed) && hyprctl dispatch focuswindow "pid:$ZED_PID" || zeditor
bind = $mainMod, S, exec, FIREFOX_PID=$(pgrep firefox) && hyprctl dispatch focuswindow "pid:$FIREFOX_PID" || firefox
bind = $mainMod, D, exec, OBSIDIAN_PID=$(pgrep -o electron) && hyprctl dispatch focuswindow "class:obsidian" || xdg-open "obsidian://vault/$OBSIDIAN_NOTES_DIR"
bind = $mainMod, F, exec, GHOSTTY_PID=$(pgrep ghostty) && hyprctl dispatch focuswindow "pid:$GHOSTTY_PID" || ghostty
bind = $mainMod, Z, exec, YUBICO_PID=$(pgrep -o authenticator) && hyprctl dispatch focuswindow "pid:$YUBICO_PID" || authenticator
bind = $mainMod, X, exec, SPOTIFY_PID=$(pgrep -o spotify) && hyprctl dispatch focuswindow "pid:$SPOTIFY_PID" || spotify-launcher
bind = $mainMod, C, exec, DBEAVER_PID=$(pgrep -o java) && hyprctl dispatch focuswindow "pid:$DBEAVER_PID" || dbeaver
bind = $mainMod, V, exec, THUNAR_PID=$(pgrep thunar) && hyprctl dispatch focuswindow "pid:$THUNAR_PID" || thunar

## Modified Primary Applications: A S D F Z X C V
# bind = $mainMod, SHIFT, A, exec, # TODO: Shortcut for ?
# bind = $mainMod SHIFT, S, exec, # TODO: Shortcut for ?
# bind = $mainMod SHIFT, D, exec, # TODO: Shortcut for getting to Obsidian WORK vault
bind = $mainMod SHIFT, F, exec, [float; move 25% 25%; size 50% 50%; workspace unset] ghostty
bind = $mainMod SHIFT, Z, exec, [float; size 25% 90%; move 72.5% 5%] authenticator
# bind = $mainMod SHIFT, X, exec, # TODO: Shortcut for getting to Spotify miniplayer
# bind = $mainMod, SHIFT, C, exec, # TODO: Shortcut for DBeaver database direct connections
bind = $mainMod SHIFT, V, exec, [float; size 25% 90%; move 72.5% 5%] thunar

## Primary Functions: q w e r t
bind = ALT, tab, cyclenext
bind = ALT, tab, bringactivetotop
bind = $mainMod, Q, killactive
bind = $mainMod, W, exec, cliphist list | fuzzel --dmenu --with-nth 2 | cliphist decode | wl-copy
bind = $mainMod, E, exec, fuzzel
bind = $mainMod, R, fullscreen, 1
bind = $mainMod, T, exec, grim -g "$(slurp)" - | swappy -f -

## Modified Primary Functions: Q W E R T
bind = $mainMod SHIFT, Q, exec, active_pid=$(hyprctl activewindow | grep -o 'pid: [0-9]*' | cut -d' ' -f2) && kill $active_pid
# bind = $mainMod SHIFT, W, exec, # TODO: Modifier for Clip Manager
bind = $mainMod SHIFT, E, exec, $scripts/processes.sh
bind = $mainMod SHIFT, R, fullscreen
bind = $mainMod SHIFT, T, exec, hyprpicker --autocopy

## Secondary Applications: j k l ; n m , .
# j
# k
# l
# ;
bind = $mainMod, N, exec, swaync-client -t -sw
# m
# ,
# .

## Modified Secondary Applications: J K L ; N M , .
# J
# K
# L
# ;
# N
# M
# ,
# .

# Secondary Functions: y u i o p
# y
# u
# i
# o
bind = $mainMod, P, exec, reboot

# Modified Secondary Functions: Y U I O P
# Y
# U
# I
# O
bind = $mainMod SHIFT, P, exec, poweroff

# Miscellaneous
# bind = $mainMod CTRL ALT, B, exec, pkill -SIGUSR1 waybar # Toggle hide/show waybar

# The following mappings use the key codes to better support various keyboard layouts
# 1 is code:10, 2 is code 11, etc
# Switch workspaces with mainMod + [0-9]
bind = $mainMod, code:10, workspace, 1 # NOTE: code:10 = key 1
bind = $mainMod, code:11, workspace, 2 # NOTE: code:11 = key 2
bind = $mainMod, code:12, workspace, 3 # NOTE: code:12 = key 3
bind = $mainMod, code:13, workspace, 4 # NOTE: code:13 = key 4
bind = $mainMod, code:14, workspace, 5 # NOTE: code:14 = key 5
bind = $mainMod, code:15, workspace, 6 # NOTE: code:15 = key 6
bind = $mainMod, code:16, workspace, 7 # NOTE: code:16 = key 7
bind = $mainMod, code:17, workspace, 8 # NOTE: code:17 = key 8
bind = $mainMod, code:18, workspace, 9 # NOTE: code:18 = key 9
bind = $mainMod, code:19, workspace, 10 # NOTE: code:19 = key 0

# Move active window and follow to workspace mainMod + SHIFT [0-9]
bind = $mainMod SHIFT, code:10, movetoworkspace, 1 # NOTE: code:10 = key 1
bind = $mainMod SHIFT, code:11, movetoworkspace, 2 # NOTE: code:11 = key 2
bind = $mainMod SHIFT, code:12, movetoworkspace, 3 # NOTE: code:12 = key 3
bind = $mainMod SHIFT, code:13, movetoworkspace, 4 # NOTE: code:13 = key 4
bind = $mainMod SHIFT, code:14, movetoworkspace, 5 # NOTE: code:14 = key 5
bind = $mainMod SHIFT, code:15, movetoworkspace, 6 # NOTE: code:15 = key 6
bind = $mainMod SHIFT, code:16, movetoworkspace, 7 # NOTE: code:16 = key 7
bind = $mainMod SHIFT, code:17, movetoworkspace, 8 # NOTE: code:17 = key 8
bind = $mainMod SHIFT, code:18, movetoworkspace, 9 # NOTE: code:18 = key 9
bind = $mainMod SHIFT, code:19, movetoworkspace, 10 # NOTE: code:19 = key 0
bind = $mainMod SHIFT, bracketleft, movetoworkspace, -1 # brackets [
bind = $mainMod SHIFT, bracketright, movetoworkspace, +1 # brackets ]

# Special controls
bindl = , xf86Sleep, exec, systemctl suspend  # sleep button

# Resize windows
binde = $mainMod SHIFT, left, resizeactive,-50 0
binde = $mainMod SHIFT, right, resizeactive,50 0
binde = $mainMod SHIFT, up, resizeactive,0 -50
binde = $mainMod SHIFT, down, resizeactive,0 50

# Move windows
bind = $mainMod CTRL, left, movewindow, l
bind = $mainMod CTRL, right, movewindow, r
bind = $mainMod CTRL, up, movewindow, u
bind = $mainMod CTRL, down, movewindow, d

# Swap windows
bind = $mainMod ALT, left, swapwindow, l
bind = $mainMod ALT, right, swapwindow, r
bind = $mainMod ALT, up, swapwindow, u
bind = $mainMod ALT, down, swapwindow, d

# Move focus with mainMod + arrow keys
bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d
